## 实际开发中的一些设计方案或者好的实现记录

### 减少业务逻辑中的if语句



### 接口/应用的灰度
#### 业务核心逻辑
1. 灰度的开关：控制灰度是否执行。
2. 灰度的名单：灰度开关打开后，业务调用时判断用户是否在灰度名单之中。
3. 针对灰度的开关和名单配置，可以动态的修改（restful接口也需要控制权限）。
#### 技术实现
1. 过滤器拦截，必须在SSO之后，因为要获取用户id等信息，用于是否在白名单以及动态配置身份的判断。
2. 请求分为两大类，分别对应管理员以及普通用户
   1. 灰度配置restful接口（管理员）
   2. 其他业务接口（普通用户）